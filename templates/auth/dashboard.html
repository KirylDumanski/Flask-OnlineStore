{%extends 'base.html'%}

{%block title%}Online Store - Profile{%endblock%}


{%block content%}
<div class="container col-10">
  {%for category, message in get_flashed_messages(True)%}
  <div class="alert alert-success" role="alert">
    {{message}}
  </div>
  {%endfor%}
  <h2>Dashboard</h2>
  <br>

  <div class="card">
    <div class="card-header">{{current_user.first_name}} {{current_user.last_name}}</div>
    <div class="card-body">
      <h6 class="card-title"><u>Welcome to your Dashboard</u></h6>
      <p class="card-text">
        <strong>First name: </strong>{{current_user.first_name}}<br>
        <strong>Last name: </strong>{{current_user.last_name}}<br>
        <strong>User ID: </strong>{{current_user.id}}<br>
        <strong>Email: </strong>{{current_user.email}}<br>
        <strong>Date join: </strong>{{current_user.date}}<br>
      </p>
      <a href="{{url_for('logout')}}" class="btn btn-secondary btn-sm">Logout</a>
    </div>
  </div>

  <br>

  <div class="card">
    <div class="card-header">Update Profile</div>
    <div class="card-body">
      <p class="card-text">
      <form action="{{url_for('dashboard')}}" method="POST">
        {{form.hidden_tag()}}
        {{form.first_name.label(class_="form-label")}}
        {{form.first_name(class_="form-control", value=user_to_update.first_name)}}
        <br>
        {{form.last_name.label(class_="form-label")}}
        {{form.last_name(class_="form-control", value=user_to_update.last_name)}}
        <br>
        {{form.email.label(class_="form-label")}}
        {{form.email(class_="form-control", value=user_to_update.email)}}
        <br>
        {{form.submit(class="btn btn-primary btn-sm", value="Submit")}}
      </form>
      </p>
    </div>
  </div>

</div>

{%endblock%}