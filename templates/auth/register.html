{%extends 'base.html'%}

{%block title%}Online Store - {{title}}{%endblock%}


{%block content%}
<div class="container col-5">
  <h1>Register form:</h1>
  {%for category, message in get_flashed_messages(True)%}
  <div class="flash {{category}}">{{message}}</div>
  {%endfor%}
  <form action="" method="post">
    {{form.hidden_tag()}}
    {%for field in form if field.name not in ['csrf_token', 'submit']%}
    <p>
      {{field.label}}
      {%if field.errors%}
      {{field(class="form-control is-invalid")}}
      <span class="invalid-feedback">
          {%for error in field.errors%}
            {{error}}
          {%endfor%}
      </span>
      {%else%}
      {{field(class="form-control")}}
      {%endif%}
    </p>
    {%endfor%}
    <p>{{form.submit(class="btn btn-primary")}}</p>
  </form>
</div>
{%endblock%}